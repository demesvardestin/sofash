<%= form_for(@image, :html => { :multipart => true }) do |f| %>
    <%= render partial: "shared/errors_messages", locals: { object: @image } %>
    
    <div class="field">
        <%= f.label :images %>
        <%= f.file_field :sources, multiple: true %>
    </div>
    
    <%= f.hidden_field :inventory_item_id, value:"#{!@image.inventory_item.id.nil? ? @image.inventory_item.id : params[:id]}" %>
    <%= f.hidden_field :sources_cache %>
    
    <div class="actions">
        <%= f.submit "Attach images", class:"btn btn-primary btn-block",
            data: { "disable-with": "Attaching images..."} %>
    </div>
<% end %>

<script type="text/javascript">
    // color picker
    let colorPicker = document.querySelector("#colorPicker");
    
    watchColorPicker = (event) => {
        colorPicker.setAttribute("value", event.target.value);
        
        let colorName = ntc.name(event.target.value)[1];
        document.querySelector("#color-value").innerHTML = colorName;
    }
    
    colorPicker.addEventListener("change", watchColorPicker, false);
</script>
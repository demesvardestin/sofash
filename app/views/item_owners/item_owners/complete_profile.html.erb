<div class="row">
    <div class="col-md-6 offset-md-3">
        <div class="card">
            <div class="card-body">
                <%= render partial: "common/card_header", locals: { text: "Almost there" } %>
                <%= render "form" %>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    // append the 'next' parameter to the form, to prevent redirecting
    // to the io dashboard (UPDATE action in item_owners_controller)
    
    let form = document.querySelector('#io-profile-form');
    
    let path = document.createElement('input');
    path.setAttribute('type', 'hidden');
    path.setAttribute('name', 'next');
    path.setAttribute('value', '/lister/dashboard');
    
    let registrationCompleted = document.createElement('input');
    registrationCompleted.setAttribute('type', 'hidden');
    registrationCompleted.setAttribute('name', 'item_owner[registration_completed]');
    registrationCompleted.setAttribute('value', 'true');
    
    form.appendChild(path);
    form.appendChild(registrationCompleted);
    
    console.log("done");
</script>
